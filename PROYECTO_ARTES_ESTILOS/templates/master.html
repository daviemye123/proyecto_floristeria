{% extends 'base.html' %}
{% load static %}

{% block content %}

<header class="main-header">
    <div class="header-container">
        <div class="logo-section">
            <a href="/" > 
            <img src="{% static 'img/logo_new.png' %}" alt="Arte & Estilos" class="logo-img">
            </a>
        </div>
        <nav class="nav-links">
    
    <div class="nav-item dropdown">
        <div class="dropdown-trigger">
            <img src="{% static 'img/compra.png' %}" class="nav-img-icon" alt="Compra">
            <span class="nav-text">COMPRA</span>
        </div>
        <div class="dropdown-content">
            <a href="#">• ORDEN DE COMPRA</a>
            <a href="#">• CREAR COMPRA</a>
            <a href="#">• PROVEEDORES</a>
        </div>
    </div>

    <div class="nav-item dropdown">
        <div class="dropdown-trigger">
            <img src="{% static 'img/producto.png' %}" class="nav-img-icon" alt="Producto">
            <span class="nav-text">PRODUCTO</span>
        </div>
        <div class="dropdown-content">
            <a href="{% url 'categorias' %}">• CATEGORIA</a>
            <a href="#">• PRODUCTOS</a>
            <a href="#">• ARREGLOS</a>
        </div>
    </div>

    <div class="nav-item dropdown">
        <div class="dropdown-trigger">
            <span class="nav-text">PERSONA</span>
        </div>
        <div class="dropdown-content">
            <a href="#">• PROVEEDORES</a>
            <a href="#">• CLIENTES</a>
            <a href="#">• EMPLEADOS</a>
        </div>
    </div>
</nav>


        <div class="header-right">
            <span class="back-text">REGRESAR AL<br>INICIO</span>
            <button class="menu-burger">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>
    </div>
</header>

<main class="main-content">
    <div class="container account-wrapper">
        
        <section class="profile-column">
            <h1 class="page-title">MI CUENTA</h1>
            
            <div class="avatar-container">
                <div class="avatar-circle">
                    {% if user.profile.avatar %}
                        <img src="{{ user.profile.avatar.url }}" alt="{{ user.username }}" style="width: 100%; height: 100%; border-radius: 50%; object-fit: cover;">
                    {% else %}
                        <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                            <circle cx="50" cy="35" r="25" fill="black"/>
                            <path d="M20 85 C20 60 80 60 80 85" fill="black"/>
                        </svg>
                    {% endif %}
                </div>
            </div>

            <div class="profile-info">
                <p class="user-id">{{ user.first_name|upper }} {{ user.last_name|upper }}-{{ user.groups.first.name|upper|default:"USER" }}</p>
                
                <div class="info-row">
                    <img src="{% static 'img/icon-location.png' %}" class="small-icon" alt="Ubicación">
                    <div class="text-group">
                        <span>{{ user.profile.ciudad|upper|default:"CIUDAD" }}</span>
                    </div>
                </div>

                <div class="info-row">
                    <img src="{% static 'img/icon-location.png' %}" class="small-icon" alt="Departamento">
                    <div class="text-group">
                        <span>{{ user.profile.departamento|upper|default:"DEPARTAMENTO" }}</span>
                    </div>
                </div>

                <div class="info-row">
                    <img src="{% static 'img/icon-email.png' %}" class="small-icon" alt="Email">
                    <span>{{ user.email|upper }}</span>
                </div>

                <a href="#" class="edit-link">
                    <img src="{% static 'img/icon-edit.png' %}" class="small-icon" alt="Editar">
                    EDITAR INFORMACIÓN
                </a>
            </div>
        </section>

        <section class="menu-column">
            <a href="#" class="neu-button orders-button">
                <div class="neu-text">
                    <span class="main-txt">ARREGLOS</span>
                    <span class="sub-txt">PENDIENTES</span>
                </div>
                <div class="icon-wrapper">
                    <img src="{% static 'img/icon-orders.png' %}" alt="Orders">
                    {% if ordenes_pendientes_count > 0 %}
                    <span class="badge-count">{{ ordenes_pendientes_count }}</span>
                    {% endif %}
                </div>
            </a>

            
        </section>

    </div>
</main>

{% endblock %}
{% block scripts %}
    <script src="{% static 'js/navbar.js' %}"></script>
{% endblock %}